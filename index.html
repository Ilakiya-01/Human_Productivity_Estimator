<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Productivity Estimator</title>
    <style>
      body {
        font-family: sans-serif;
        background: #ffffff;
        text-align: center;
        padding: 20px;
      }

      h2 {
        margin-bottom: 20px;
      }

      form {
        max-width: 300px;
        margin: auto;
      }

      input,
      button {
        width: 100%;
        padding: 10px;
        margin: 8px 0;
        box-sizing: border-box;
      }

      button {
        background-color: #007bff;
        color: white;
        border: none;
        border-radius: 5px;
        font-size: 16px;
        font-weight: bold;
        cursor: pointer;
        transition: background-color 0.3s ease;
      }

      button:hover {
        background-color: #0056b3;
      }

      #result {
        font-weight: bold;
        margin-top: 15px;
      }
    </style>
  </head>
  <body>
    <h2>üß† Productivity Estimator</h2>
    <form id="predictForm">
      <input
        type="number"
        step="any"
        name="Sleep_Hours"
        placeholder="Sleep Hours"
        required
      />
      <input
        type="number"
        step="any"
        name="Start_Work_Hour"
        placeholder="Start Work Hour"
        required
      />
      <input
        type="number"
        step="any"
        name="Total_Work_Hours"
        placeholder="Total Work Hours"
        required
      />
      <input
        type="number"
        step="any"
        name="Meetings_Count"
        placeholder="Meetings Count"
        required
      />
      <input
        type="number"
        step="any"
        name="Interruptions_Count"
        placeholder="Interruptions Count"
        required
      />
      <input
        type="number"
        step="any"
        name="Break_Minutes"
        placeholder="Break Minutes"
        required
      />
      <input
        type="number"
        step="any"
        name="Task_Completion_Rate"
        placeholder="Task Completion Rate"
        required
      />
      <input
        type="number"
        step="any"
        name="SocialMedia_Min"
        placeholder="Social Media Minutes"
        required
      />
      <input
        type="number"
        step="any"
        name="Emails_Handled"
        placeholder="Emails Handled"
        required
      />

      <button type="submit">üöÄ Estimate Productivity</button>
      <div id="result"></div>
    </form>

    <script>
      const form = document.getElementById("predictForm");
      const resultDiv = document.getElementById("result");

      form.addEventListener("submit", async function (e) {
        e.preventDefault();
        const formData = new FormData(form);
        const data = {};
        formData.forEach((val, key) => {
          data[key] = parseFloat(val);
        });

        const res = await fetch(
          "https://humanproductivityestimator-production.up.railway.app/predict",
          {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(data),
          }
        );

        const json = await res.json();
        if (json.productivity_score !== undefined) {
          resultDiv.textContent = "‚ö° Score: " + json.productivity_score;
        } else {
          resultDiv.textContent = "‚ùå Error: " + json.error;
        }
      });
    </script>
  </body>
</html>
